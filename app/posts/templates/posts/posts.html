{% extends "base.html" %}

{% block title %}Posts{% endblock %}

{% block css %}
  <link rel="stylesheet" href="{{ url_for('posts.static', filename='css/posts.css') }}">
{% endblock %}

{% block content %}
<div class="container mt-4">

  <div class="posts-header">
    <h1 class="posts-title">Articles</h1>

    <a class="btn btn-primary" href="{{ url_for('posts.create_post') }}">Add post</a>
  </div>

  <div class="posts-grid">
    {% for post in posts %}
      <div class="post-card">
        <img src="{{ url_for('.static', filename='img/default.png') }}" alt="default">

        <div class="post-card-body">
          <div class="post-card-title">{{ post.title }}</div>

          <p class="post-meta">
            ID: {{ post.id }} |
            Category: {{ post.category }} |
            {{ post.posted }}
          </p>

          <p class="post-card-text">
            {{ post.content[:100] }}
          </p>

          <div class="btn-row">
            <a class="btn-soft" href="{{ url_for('posts.detail_post', id=post.id) }}">View Post</a>
            <a class="btn-soft" href="{{ url_for('posts.update_post', id=post.id) }}">Edit</a>
            <a class="btn-soft" href="{{ url_for('posts.delete_post', id=post.id) }}">Delete</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>

</div>
{% endblock %}